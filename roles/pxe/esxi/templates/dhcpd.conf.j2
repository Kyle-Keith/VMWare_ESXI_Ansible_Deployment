default-lease-time 	300;
max-lease-time	800;

ddns-update-style none;

authoritative;

ping-check true;

next-server {{octet}}.1;

#option grubmenu code 150 = text;

subnet {{octet}}.0 netmask 255.255.255.192 {	
  option routers	{{octet}}.1;
  option subnet-mask 	255.255.255.192;
  range {{item.server.IP}} {{item.server.IP}};
  option ntp-servers	{{octet}}.1;
  default-lease-time 	600;
  max-lease-time	1200;

host PA {
  hardware ethernet 00:50:56:b7:01:37;
  fixed-address {{octet}}.2;
}

}

allow booting;
allow bootp;
allow unknown-clients;
option client-system-arch code 93 = unsigned integer 16;
class "pxeclients" {
   match if substring(option vendor-class-identifier, 0, 9) = "PXEClient";
   next-server {{octet}}.1;
   if option client-system-arch = 00:07 or option client-system-arch = 00:09 {
      if exists user-class and option user-class = "iPXE" {
         # Instruct iPXE to load mboot.efi as secondary bootloader
         filename = "mboot.efi";
      } else {
         # Load the snponly.efi configuration of iPXE as initial bootloader
         filename = "snponly.efi";
      }
   } else {
      if exists user-class and option user-class = "iPXE" {
         # Instruct iPXE to load pxelinux as secondary bootloader
         filename = "pxelinux.0";
      } else {
         # Load the undionly configuration of iPXE as initial bootloader
         filename = "undionly.kpxe";
   }
}
}



